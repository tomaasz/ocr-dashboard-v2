Metadata-Version: 2.4
Name: ocr-dashboard-v2
Version: 0.0.0
Summary: OCR pipeline for old documents (job-based)
Requires-Python: >=3.10
Description-Content-Type: text/markdown

# OCR stare dokumenty â€” Annotator + Pipeline

Projekt systemu OCR do przetwarzania **starych dokumentÃ³w** (metryki, akta, indeksy),
z naciskiem na **kontrolÄ™ kontekstu AI**, **audytowalnoÅ›Ä‡ danych** i **twardy podziaÅ‚ odpowiedzialnoÅ›ci**.

Repozytorium jest zaprojektowane tak, aby:
- chroniÄ‡ projekt przed dryfem wymagaÅ„,
- umoÅ¼liwiaÄ‡ rÃ³wnolegÅ‚y rozwÃ³j UI i pipeline,
- byÄ‡ odporne na halucynacje i regresje AI.

---

## GÅ‚Ã³wna idea

System skÅ‚ada siÄ™ z trzech warstw:

1. **Annotator UI (Streamlit)**  
   RÄ™czna anotacja, weryfikacja i korekta merytoryczna przez czÅ‚owieka.

2. **Backend / Pipeline OCR (Playwright + Gemini)**  
   Automatyzacja OCR, ekstrakcja danych, retry, watchdog, rotacja kontekstu.

3. **Warstwa danych (PostgreSQL)**  
   Centralny autorytet stanu technicznego i kolejkowania zadaÅ„.

Jedynym kontraktem danych pomiÄ™dzy warstwami jest plik `job.json`.

---

## Struktura repozytorium

```

ocr-dashboard-v2/
â”œâ”€â”€ docs/                # KANON projektu â€“ ÅºrÃ³dÅ‚o prawdy
â”‚   â”œâ”€â”€ ARCHITECTURE.md
â”‚   â”œâ”€â”€ CONTRACT_JOB_JSON.md
â”‚   â”œâ”€â”€ DECISIONS.md
â”‚   â”œâ”€â”€ FAILURES.md
â”‚   â”œâ”€â”€ REQUIREMENTS.md
â”‚   â”œâ”€â”€ STATE.md
â”‚   â””â”€â”€ NOTEBOOKLM_DUMP.md
â”‚
â”œâ”€â”€ src/                 # Kod (UI, pipeline, silniki OCR)
â”œâ”€â”€ tests/               # Testy kontraktowe i techniczne
â”œâ”€â”€ prompts/             # Globalne prompty OCR / JSON
â”œâ”€â”€ data/                # Dane robocze (lokalne, niekanoniczne)
â”œâ”€â”€ logs/                # Logi runtime (nietrwaÅ‚e)
â”‚   â””â”€â”€ .keep
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md

```

---

## Dokumentacja (`docs/`) â€” jak czytaÄ‡

### ğŸ”’ KANON (nietykalne bez decyzji)
- **ARCHITECTURE.md**  
  Architektura systemu i granice UI vs backend. NajwaÅ¼niejszy dokument.
- **CONTRACT_JOB_JSON.md**  
  Jedyny kontrakt danych (`job.json`). Single Source of Truth.
- **DECISIONS.md**  
  Dlaczego system jest taki, jaki jest. KaÅ¼da decyzja architektoniczna.
- **FAILURES.md**  
  PamiÄ™Ä‡ bÅ‚Ä™dÃ³w i antywzorcÃ³w. Co juÅ¼ raz zepsuÅ‚o system.

### ğŸ”„ Operacyjne
- **STATE.md**  
  Aktualny stan projektu i najbliÅ¼sze kroki.
- **REQUIREMENTS.md**  
  Wymagania MVP i zakres funkcjonalny.

### ğŸ—„ Archiwum
- **NOTEBOOKLM_DUMP.md**  
  Surowy dump historii eksperymentÃ³w i rozmÃ³w.  
  Read-only. Nie jest ÅºrÃ³dÅ‚em prawdy.

---

## Zasady nadrzÄ™dne (MUST READ)

- UI **nie wykonuje OCR** i nie zarzÄ…dza automatyzacjÄ….
- Pipeline **nie nadpisuje danych wprowadzonych przez czÅ‚owieka**.
- `job.json` jest **jedynym kontraktem danych**.
- Brak `sleep()` jako sygnaÅ‚u sukcesu â€” tylko twarde sygnaÅ‚y DOM.
- KaÅ¼da zmiana architektury â†’ wpis w `DECISIONS.md`.

---

## Status projektu

Aktualny status i roadmapa znajdujÄ… siÄ™ w:
```

docs/STATE.md

```

Na moment obecny:
- dokumentacja (KANON) jest zamkniÄ™ta,
- repo jest gotowe do rozpoczÄ™cia implementacji MVP,
- pierwszym krokiem jest **minimalny Annotator UI + zapis `job.json`**.

---

## Jak zaczÄ…Ä‡ pracÄ™

1. Przeczytaj **ARCHITECTURE.md**
2. Przeczytaj **CONTRACT_JOB_JSON.md**
3. Zapoznaj siÄ™ z **FAILURES.md**
4. SprawdÅº aktualny stan w **STATE.md**
5. Dopiero potem pisz kod

---

## Uwaga dla AI / agentÃ³w

> JeÅ›li jesteÅ› agentem AI:
> - nie zgaduj wymagaÅ„,
> - nie upraszczaj architektury,
> - nie usuwaj testÃ³w ani plikÃ³w konfiguracyjnych,
> - opieraj siÄ™ wyÅ‚Ä…cznie na dokumentach w `docs/`.

---

## Licencja / status

Projekt w fazie rozwojowej (R&D).  
Licencja i model dystrybucji zostanÄ… okreÅ›lone na pÃ³Åºniejszym etapie.
```
